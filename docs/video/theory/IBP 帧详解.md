MPEG压缩使用 **I、B、P**帧，压缩的基本思想: **帧内压缩**和**帧间压缩**。



其次通过时间相关性的统计分析，在间隔1~2帧的图像中,各像素只有10%以下的点,其亮度差值变化超过2%,而色度差值的变化只有 1% 以下，采用的压缩方法为分组，把几帧图像分为一组(GOP),为防止运动变化,帧数不宜取多。

- 定义帧

  将每组内各帧图像定义为三种类型,即I帧、B帧和P帧 

- 预测帧

  以I帧做为基础帧,以I帧预测P帧,再由I帧和P帧预测B帧

- 数据传输

  最后将I帧数据与预测的差值信息进行存储和传输



###  **I帧: 帧内编码**

1. 它是一个**全帧压缩编码帧**。它将全帧图像信息进行JPEG压缩编码及传输; 

2. 解码时仅用I帧的数据就**可重构完整图像**; 

3. I帧描述了图像背景和运动主体的详情; 

4. I帧不需要参考其他画面而生成; 

5. I帧是P帧和B帧的参考帧(其质量直接影响到同组中以后各帧的质量); 

6. I帧是帧组GOP的基础帧(第一帧),在一组中只有一个I帧; 

7. I帧不需要考虑运动矢量; 

8. I帧**所占数据的信息量比较大**。 



###  **P帧: 前向预测编码帧** 

   P 帧的预测与重构:P帧是以I帧为参考帧,在I帧中找出P帧“某点”的预测值和运动矢量,取预测差值和运动矢量一起传送。在接收端根据运动矢量从I帧中找出P帧“某点”的预测值并与差值相加以得到P帧“某点”样值,从而可得到完整的P帧。


 P帧特点:

1. P帧是I帧后面相隔1~2帧的编码帧; 

2. P帧采用运动补偿的方法传送它与前面的I或P帧的差值及运动矢量(预测误差); 

3. 解码时必须将I帧中的预测值与预测误差求和后才能重构完整的P帧图像; 

4. P帧属于**前向预测的帧间编码**。它只参考前面最靠近它的I帧或P帧; 

5. P帧可以是其后面P帧的参考帧,也可以是其前后的B帧的参考帧; 

6. 由于P帧是参考帧,它可能造成解码错误的扩散; 

7. 由于是差值传送,**P帧的压缩比较高**。 



###  **B帧: 双向预测内插编码帧** 

B 帧的预测与重构 B帧以前面的I或P帧和后面的P帧为参考帧,“找出”B帧“某点”的预测值和两个运动矢量,并取预测差值和运动矢量传送。接收端根据运动矢量在两个参考帧中“找出(算出)”预测值并与差值求和,得到B帧“某点”样值,从而可得到完整的B帧。 



B帧特点 

1. B帧是由前面的I或P帧和后面的P帧来进行预测的; 

2. B帧传送的是它与前面的I或P帧和后面的P帧之间的预测误差及运动矢量; 

3. B帧是**双向预测编码帧**; 

4. **B帧压缩比最高**,因为它只反映并参考帧间运动主体的变化情况,预测比较准确; 

5. B帧不是参考帧,不会造成解码错误的扩散。 



下面给出一个GOP为15的例子,其解码的参照frame及其解码的顺序都在里面:

![img](https://img-note.langyastudio.com/202111091457613.jpeg?x-oss-process=style/watermark)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)


如上图：I frame 的解码不依赖于任何的其它的帧.而p frame的解码则依赖于其前面的I frame或者P frame.B frame的解码则依赖于其前的最近的一个I frame或者P frame 及其后的最近的一个P frame.



参考：http://www.cnblogs.com/qingquan/archive/2011/07/27/2118967.html